<div class="container shadow-lg p-3 mb-5 bg-white rounded">
    <h1>Sign Up</h1>
    <form #F="ngForm" [formGroup]="ourForm" (ngSubmit)="submission()"> 
    <!--the "ngForm" directive is used to capture the values of the form elements-->
      <div class="form-group">
        <input [class.is-invalid]="ourForm.get('username')!.invalid && ourForm.get('username')!.touched" class="form-control" formControlName="username" type="text" placeholder="Name">
        <!--Conditional rendering of elements: -->
        <div *ngIf="ourForm.get('username')!.invalid && ourForm.get('username')!.touched, else ourElse">
          <small *ngIf="ourForm.get('username')!.errors?.required" class="text-danger">Name is required!</small>  
          <small *ngIf="ourForm.get('username')!.errors?.minlength" class="text-danger">Name must have atleast 3 characters!</small>  
          <!--Pay attention to the use of the safe navigation operator, "?".-->
        </div>
        <ng-template #ourElse>
          <small class="invisible">Name</small>
        </ng-template>
      </div> 
  
      <div class="form-group">
        <input [class.is-invalid]="ourForm.get('phoneNumber')!.invalid && ourForm.get('phoneNumber')!.touched" class="form-control" formControlName="phoneNumber" type="text" placeholder="Phone Number">
        <div *ngIf="ourForm.get('phoneNumber')!.invalid && ourForm.get('phoneNumber')!.touched, else ourElse">
          <small *ngIf="ourForm.get('phoneNumber')!.errors?.required" class="text-danger">Phone Number is required!</small>  
          <small *ngIf="ourForm.get('phoneNumber')!.errors?.minlength" class="text-danger">Phone Number must have atleast 10 numbers!</small>  
        </div>
        <ng-template #ourElse>
          <small class="invisible">Phone Number</small>
        </ng-template>
      </div>
      
      <div class="form-group">
        <input [class.is-invalid]="ourForm.get('email')!.invalid && ourForm.get('email')!.touched" class="form-control" formControlName="email" type="text" placeholder="Email">
        <div *ngIf="ourForm.get('email')!.invalid && ourForm.get('email')!.touched, else ourElse">
          <small *ngIf="ourForm.get('email')!.errors?.required" class="text-danger">Email is required!</small>  
        </div>
        <ng-template #ourElse>
          <small class="invisible">Email</small>
        </ng-template>
      </div>
      
      <div class="form-group">
        <input [class.is-invalid]="ourForm.get('password')!.invalid && ourForm.get('password')!.touched" class="form-control" formControlName="password" type="password" placeholder="Password" >
        <div *ngIf="ourForm.get('password')!.invalid && ourForm.get('password')!.touched, else ourElse">
          <small *ngIf="ourForm.get('password')!.errors?.required" class="text-danger">Password is required!</small>  
        </div>
        <ng-template #ourElse>
          <small class="invisible">Password</small>
        </ng-template>
      </div>
      
      <button [disabled]="F.form.invalid" class="container-fluid btn btn-secondary" type="submit">Submit</button>
      <mat-progress-bar mode="indeterminate" *ngIf="loader" color="accent"></mat-progress-bar>
      
      <div class="form-group">
        <small>Already signed up? <a routerLink="/signin" routerLinkActive="active">Sign In</a></small>
        <!--routerLinkActive is linked to the active css class -->  
      </div>
  
    </form>
    <!--"{{ourForm.value|json}}" shows the values in json format-->
</div>
